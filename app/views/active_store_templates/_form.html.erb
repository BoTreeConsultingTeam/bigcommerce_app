<div class="row">
	<div class="col-lg-12">
		<div class="hpanel">
			<div class="panel-body">
				<%= simple_form_for(@active_store_template, html: {class: 'form-horizontal'}) do |f| %>
					<%= f.hidden_field :template_id, id: 'template_id'%>
				<div class="form-group">
					<label class="col-sm-2 control-label">Email Type</label>
					<div class="col-sm-10">
						<%= f.input :email_type_id, collection: EmailType.pluck(:name, :id), include_blank: false, label: false %>
					</div>
					<div class="clearfix"></div>
					<label class="col-sm-2 control-label" id="template-selection-area-order-label">Order Template</label>
					<div class="col-sm-10">
						<div id="template-selection-area-order">
							<%= f.input :order_template_id, collection: current_store.order_templates.pluck(:subject, :id), include_blank: false, label: false %>
						</div>
					</div>
					<div class="clearfix"></div>
					<label class="col-sm-2 control-label" style="display: none;" id="template-selection-area-shipment-label">Shipment Template</label>
					<div class="col-sm-10">
						<div id="template-selection-area-shipment" style="display: none;">
							<%= f.input :shipment_template_id, collection: current_store.shipment_templates.pluck(:subject, :id), include_blank: false, label: false %>
						</div>
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-8 col-sm-offset-2">
						<%= f.button :submit, "Activate" %>
						<%= link_to 'Cancel', active_store_templates_path, class: 'btn btn-default', method: :get %>
					</div>
				</div>
				<% end %>
			</div>
		</div>
	</div>
</div>
<script>
$(document).ready(function() {
	$("#template_id").val($('#active_store_template_order_template_id option:selected').val())
  $("#active_store_template_email_type_id").on('change', function(){
    if($("#active_store_template_email_type_id option:selected").text() == 'order'){
    		$("#template_id").val($('#active_store_template_order_template_id option:selected').val())
			console.log($("#template_id").val())
    }else{
    	console.log("shipment");
			$("#template_id").val($('#active_store_template_shipment_template_id option:selected').val())
			console.log($("#template_id").val())
    }
  });
	$("#active_store_template_order_template_id").on('change', function(){
		console.log("test" + this)
	})
	$("#active_store_template_shipment_template_id").on('change', function(){
		var current_val = $('active_store_template_shipment_template_id option:selected').val()
		console.log("test" +  current_val);
		$("#template_id").val(current_val);

	})
});
</script>

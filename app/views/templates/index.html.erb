<div class="normalheader transition animated fadeIn">
	<div class="hpanel">
		<div class="panel-body">
			<a class="small-header-action" href="">
			<div class="clip-header">
				<i class="fa fa-arrow-up"></i>
			</div> </a>

			<div id="hbreadcrumb" class="pull-right m-t-lg">
				<ol class="hbreadcrumb breadcrumb">
					<li>
						<a href="index.html">Home</a>
					</li>
					<li>
						<span>Templates</span>
					</li>
					<li class="active">
						<span>Listing</span>
					</li>
				</ol>
			</div>
			<h2 class="font-light m-b-xs"> Templates </h2>
			<small>Available templates for the store</small>
		</div>
	</div>
</div>

<div class="content animate-panel">
	<div class="row">
		<div class="col-lg-12">
			<div class="hpanel">
				<div class="panel-body">
					<%= link_to 'New Template', new_template_path, class: 'btn btn-success pull-right', method: :get %>
					<div class="clearfix"></div>
					<div class="table-responsive top5">
						<table cellpadding="1" cellspacing="1" class="table table-bordered table-striped">
							<thead>
								<tr>
									<th>#</th>
									<th>Name</th>
									<th>Event</th>
									<th>Event Type</th>
									<th>Action</th>
								</tr>
							</thead>
							<tbody>
								<% unless @templates.empty? %>
									<% @templates.each_with_index do |template, index| %>
										<% confirm_msg = template.active? ? 'Are you sure you want to deactivate this template?' : 'Are you sure you want to activate this template?' %>
										<% tooltip_msg = template.active? ? 'This is currently active template.' : 'This is currently inactive template.' %>
										<tr>
											<td><%= index + 1%></td>
											<td><%= template.name %></td>
											<td><%= template.event.name if template.event.present? %></td>
											<td><%= template.event_type.name if template.event_type.present? %></td>
											<td>
												<%= link_to template, method: :get, style: 'font-size: 25px;' do %>
												  <i class="pe-7s-look" title="Preview"></i>
												<% end %>
												<% unless template.active? %>
													<%= link_to template_path(template), method: :delete, style: 'font-size: 25px;', data: { confirm: 'Are you sure you want to delete this template?'} do %>
													  <i class="fa fa-trash" title="Delete"></i>
													<% end %>
												<% end %>
												<%= link_to edit_template_path(template), method: :get, style: 'font-size: 25px;' do %>
													<i class="fa fa-pencil-square-o" title="Edit"></i>
												<% end %>
												<%= link_to toggle_active_path(template.id), method: :get, style: 'font-size: 25px;', data: { confirm: "#{}" } do %>
													<% sym = template.active? ? "fa-check" : "fa-check disabled" %>
													<i class="fa <%= sym %>" title="<%= tooltip_msg %>"></i>
												<% end %>
											</td>
										</tr>
									<% end %>
								<% else %>
								<tr>
									<td colspan="5">No templates available. Please add.</td>
								</tr>
								<% end %>
							</tbody>
							<tfoot>
								<tr>
									<td class="footable-visible" colspan="5">
									<div class="pull-right">
										<%= paginate @templates %>
									</div></td>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>
				<div class="panel-footer">
					Table - <%= @templates.count%> rows
				</div>
			</div>
		</div>
	</div>
</div>
